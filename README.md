
Этот плагин — фундаментальный компонент для работы ботов на проектах **MineBlaze, MasedWorld, DexLand и CheatMine**. Его главная задача — анализировать (парсить) сложный игровой чат этих серверов и преобразовывать его в стандартизированные, понятные для других плагинов события.

**Установка этого плагина является обязательной для корректной работы большинства функциональных плагинов на указанных серверах.**

---

## Основные функции

1.  **Парсинг чата**: Плагин распознает различные типы сообщений (локальные, глобальные, клановые, личные) и извлекает из них имя отправителя и текст сообщения.
2.  **Генерация событий**: При успешном распознавании сообщения генерируется универсальное событие `chat:message`, на которое могут подписываться другие плагины.
3.  **Регистрация типов чата**: Плагин добавляет в систему новые типы чатов для отправки сообщений ботом: `global` и `clan`.
4.  **Настройка задержек**: Позволяет через веб-интерфейс настраивать задержки отправки сообщений для каждого типа чата, чтобы избежать кика за спам.

## Как плагин изменяет поведение бота?

### 1. Событие `chat:message`

Вместо того чтобы каждый плагин пытался самостоятельно анализировать сложный чат, `parser-keksik` делает это за всех и генерирует простое событие `chat:message`.

*   **Данные (`data`):**
    ```json
    {
      "type": "private" | "local" | "global" | "clan",
      "username": "PlayerName",
      "message": "Текст сообщения"
    }
    ```
*   **Пример использования в другом плагине:**
    ```javascript
    bot.events.on('chat:message', (data) => {
        console.log(data)
    });
    ```

### 2. Новые типы чатов для `bot.api.sendMessage`

Плагин регистрирует новые типы чатов, которые можно использовать для отправки сообщений:

*   **`global`**: Отправляет сообщение в глобальный чат.
    *   **Пример**: `bot.api.sendMessage('global', 'Продам алмазы!');` (будет отправлено как `!Продам алмазы!`)

*   **`clan`**: Отправляет сообщение в чат клана.
    *   **Пример**: `bot.api.sendMessage('clan', 'Всем привет!');` (будет отправлено как `/cc Всем привет!`)

Стандартные типы (`chat`, `private`, `command`) продолжают работать как обычно.

## Настройки плагина

Вы можете настроить задержки для каждого типа чата, чтобы соответствовать правилам конкретного сервера.

*   **Задержка локального чата (мс)**: Пауза после отправки сообщения в локальный чат.
*   **Задержка глобального чата (мс)**: Пауза после отправки сообщения в глобальный чат.
*   **Задержка кланового чата (мс)**: Пауза после отправки сообщения в клановый чат.
*   **Задержка приватного чата (мс)**: Пауза после отправки личного сообщения.

> ⚠️ **Важно**: Устанавливайте адекватные значения задержек. 300 мс минимальная задержка для обработки. Но не забываем про кд чата. поэтому подбираем и тесируем. Для клан чата вполне можно 300

## Установка

1.  Перейдите на вкладку **Плагины** для нужного вам бота.
2.  Откройте вкладку **Обзор**.
3.  Найдите в списке `parser-keksik`.
4.  Нажмите **Установить**.
5.  Перезапустите бота, чтобы изменения вступили в силу.
